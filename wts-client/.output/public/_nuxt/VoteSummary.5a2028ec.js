import{a as d,o as c,b as i,e as p,i as a,t as o,x as f,c as y,w as m,f as e,l,h as v}from"./entry.ade83edd.js";import{f as x,p as g}from"./index.145ce648.js";const w={name:"DownloadLink",data(){return{apiRoot:"https://wheretheystand.nz"}},props:{fileType:{type:String,default:"csv",validator(s){return["csv","json","xlsx"].includes(s)}},resourceType:{type:String,validator(s){return["vote","bill"].includes(s)}},resourceId:{type:String},friendlyName:{default:null}},computed:{fasIconName(){if(this.fileType=="csv")return"file-csv";if(this.fileType=="json")return"file-code";if(this.fileType=="xlsx")return"file-excel"},link(){switch(this.fileType){case"csv":switch(this.resourceType){case"vote":return this.apiRoot+"/api/votes/"+this.resourceId+"?df=csv"}case"xlsx":switch(this.resourceType){case"vote":return this.apiRoot+"/api/votes/"+this.resourceId+"?df=xlsx"}case"json":switch(this.resourceType){case"vote":return this.apiRoot+"/api/votes/"+this.resourceId+"?format=json";case"bill":return this.apiRoot+"/api/bills/"+this.resourceId+"?format=json"}}},saveName(){return this.friendlyName?this.friendlyName+"_"+this.resourceId+"."+this.fileType:this.resourceType+"_"+this.resourceId+"."+this.fileType}}},T=["href","download"];function b(s,_,t,u,h,n){const r=f;return c(),i("a",{href:n.link,class:"me-2",target:"_blank",download:n.saveName},[p(r,{class:"me-1",icon:["fas",n.fasIconName]},null,8,["icon"]),a(o(t.fileType.toUpperCase()),1)],8,T)}const Q=d(w,[["render",b],["__scopeId","data-v-e072208e"]]),k={props:{vote:{type:Object},countsOnly:{type:Boolean,default:!1}},methods:{formatDate(s){return x(g(s,"yyyy-MM-dd",new Date),"d MMMM yyyy")}},computed:{readingOrdinal(){return this.vote.reading+{1:"st reading",2:"nd reading",3:"rd reading"}[this.vote.reading]}}},N={key:0},I={class:"text-uppercase"},D={class:"text-uppercase"},j={key:0},M=e("span",{class:"dot-yes"},null,-1),B=e("strong",null,"Passed",-1),O={key:1},R=e("span",{class:"dot-no"},null,-1),C=e("strong",null,"Defeated",-1),S={class:"text-muted"},V=e("hr",null,null,-1),A={class:"row"},L={class:"col-3 text-center"},z=e("h6",{class:"text-muted text-uppercase"},[e("span",{class:"dot-yes"}),a(" Ayes")],-1),E={class:"col-3 text-center"},P=e("h6",{class:"text-muted text-uppercase"},[e("span",{class:"dot-no"}),a(" Noes")],-1),U={class:"col-3 text-center"},q=e("h6",{class:"text-muted text-uppercase"},[e("span",{class:"dot-abstain"}),a(" Abst.")],-1),F={class:"col-3 text-center"},G=e("h6",{class:"text-muted text-uppercase"},[e("span",{class:"dot-absent"}),a(" Abse.")],-1);function H(s,_,t,u,h,n){const r=v;return t.vote?(c(),y(r,{key:0},{default:m(()=>[t.countsOnly?l("",!0):(c(),i("div",N,[e("h6",I,[e("strong",null,o(n.readingOrdinal),1)]),e("h5",D,[t.vote.motion_successful===!0?(c(),i("span",j,[M,a(),B])):t.vote.motion_successful===!1?(c(),i("span",O,[R,a(),C])):l("",!0)]),e("h6",S,o(n.formatDate(t.vote.vote_date)),1),V])),e("div",A,[e("div",L,[e("h3",null,o(t.vote.totals.ayes),1),z]),e("div",E,[e("h3",null,o(t.vote.totals.noes),1),P]),e("div",U,[e("h3",null,o(t.vote.totals.abstentions),1),q]),e("div",F,[e("h3",null,o(t.vote.totals.absent),1),G])])]),_:1})):l("",!0)}const W=d(k,[["render",H]]);export{Q as _,W as a};
