import{a as S,o as s,c,w as d,f as t,t as h,b as i,i as n,k as o,h as P,l as N,m as E,A as H,e as l,F as O,r as V,H as C,p as L,q as U,s as W,M as z,v as q,j as G}from"./entry.bab167bf.js";import{_ as F}from"./PageHeader.63bfd911.js";import{p as B,_ as j,a as X}from"./VoteSummary.63429d7d.js";import{_ as J}from"./PersonCard.b3e5e6be.js";import{f as x,p as M}from"./index.145ce648.js";import{f as K}from"./index.dcb4ea67.js";import"./ColourDot.b1c345ee.js";import"./index.b85c6916.js";const Q={props:["reading","date","passed"],methods:{formatDate(a){return x(M(a,"yyyy-MM-dd",new Date),"d MMMM yyyy")}},computed:{readingOrdinal(){return this.reading+{1:"st reading",2:"nd reading",3:"rd reading"}[this.reading]}}},Y={class:"text-uppercase"},Z={class:"text-uppercase"},$={key:0},ee=t("span",{class:"dot-yes"},null,-1),te=t("strong",null,"Passed",-1),se={key:1},ae=t("span",{class:"dot-no"},null,-1),le=t("strong",null,"Defeated",-1),ne={class:"text-muted"},ie=t("hr",null,null,-1),re=t("h6",{class:"text-muted text-center"}," WhereTheyStand has no totals for this vote. It might have been a voice vote, or there might have been an import error. ",-1);function oe(a,b,_,g,y,e){const m=P;return s(),c(m,null,{default:d(()=>[t("h6",Y,[t("strong",null,h(e.readingOrdinal),1)]),t("h5",Z,[_.passed===!0?(s(),i("span",$,[ee,n(),te])):_.passed===!1?(s(),i("span",se,[ae,n(),le])):o("",!0)]),t("h6",ne,h(e.formatDate(_.date)),1),ie,re]),_:1})}const de=S(Q,[["render",oe]]),ce=N("bills",{state(){return{items:[]}},getters:{byID:a=>b=>a.items.find(_=>_.id==b)},actions:{async fetch(a){if(!this.byID(a)){var b=this;await E(H+"bills/"+a+"/",{onResponse({request:_,response:g,options:y}){b.items.push(g._data)},onResponseError({request:_,response:g,options:y}){useNotificationsStore().postResponseError(g)},onRequestError({request:_,options:g,error:y}){useNotificationsStore().addToast("Error fetching resource (request)",y)}},"$a9h0pBoHpw")}}}});const _e={name:"Bill",setup(){return{billsStore:ce()}},created(){this.billsStore.fetch(this.$route.params.id)},methods:{formatDate(a){return x(M(a,"yyyy-MM-dd",new Date),"d MMMM yyyy")},formatDateTime(a){return x(B(a),"d MMMM yyyy 'at' HH:mm OOOO")}},computed:{bill(){return this.billsStore.byID(this.$route.params.id)},progressExplanation(){if(this.bill){if(this.bill.progress==="inp"){if(this.bill.dates.whole_house_date)return"The Committee of the whole House concluded its consideration of this Bill on "+this.formatDate(this.bill.dates.whole_house_date)+" and the Bill is awaiting its third reading.";if(this.bill.dates.second_reading_date)return"This Bill passed its second reading on "+this.formatDate(this.bill.dates.second_reading_date)+" and is awaiting the Commitee of the whole House stage.";if(this.bill.dates.first_reading_date){var a="This Bill passed its first reading on "+this.formatDate(this.bill.dates.first_reading_date)+". ";return this.bill.dates.report_back_date?a=a+"The Select Committee reported back on "+this.formatDate(this.bill.dates.report_back_date)+" and the Bill is awaiting its second reading. ":this.bill.dates.submissions_due_date&&(a=a+"Public submissions are due on "+this.formatDate(this.bill.dates.submissions_due_date)+". "),a}else if(this.bill.dates.introduction_date)return"This Bill was introduced on "+this.formatDate(this.bill.dates.introduction_date)+" and is awaiting its first reading."}}else return"";return{ena:"This Bill has been passed by Parliament, and signed into law by the Governor-General in a step called Royal Assent. This doesn't mean that everything the Act implements has come into force yet, but it does mean that the Act is on the statute books.",pas:"This Bill has been passed by Parliament, but hasn't been given Royal Assent by the Governor-General. Once this happens, the Bill will become law.",def:"This Bill has been defeated in a vote of MPs, which means that it will not be progressing and will not become law.",wit:"This Bill has been withdrawn, which means that it will not be progressing and will not become law.",lap:"This Bill has lapsed. At the end of each Parliamentary term, bills which are still in progress lapse unless they are reinstated in the next term.",unx:"This Bill is classed as 'not current' on Parliament's website, which means it is likely that the Bill was either defeated or withdrawn. Unfortunately, WhereTheyStand has not been able to ascertain this information based on the Bill's page on the Parliament website.",div:"This Bill has been divided into multiple bills.",unk:"WhereTheyStand isn't sure what's happening with this Bill.",dis:"This Bill has been discharged by Parliament, which means that it will not be progressing and will not become law."}[this.bill.progress]},firstReading(){return this.bill.votes.find(a=>a.reading===1)},secondReading(){return this.bill.votes.find(a=>a.reading===2)},thirdReading(){return this.bill.votes.find(a=>a.reading===3)},actUrl(){return!this.bill.enactment.act_number||!this.bill.enactment.act_year?null:"https://legislation.govt.nz/act/results.aspx?search=ad_act___"+this.bill.enactment.act_year+"_"+this.bill.enactment.act_number+"__25_ac@bn@rn@dn@apub@aloc@apri@apro@aimp@bgov@bloc@bpri@bmem@rpub@rimp_ac@ainf@anif@aaif@aase@arep@bcur@rinf@rnif_a_aw_se_&p=1"},relativeDate(){return K(B(this.bill.last_retrieved))+" ago"}}},r=a=>(U("data-v-92a9dc2c"),a=a(),W(),a),he={key:0,id:"bill-view"},ue={class:"container mt-3"},me={class:"row"},be={class:"col-12 col-lg-8"},ge=r(()=>t("h4",null,"About this bill",-1)),pe={key:0,class:"mt-3"},fe={key:1},ye=r(()=>t("strong",null,"Personal voting: ",-1)),we={key:2},ve=r(()=>t("strong",null,"Party voting: ",-1)),ke={key:3},xe=r(()=>t("strong",null,"Mixed voting: ",-1)),Te={key:4,class:"mt-3"},Be={class:"procedural-list pb-0 ps-0"},Se={key:0,class:"procedural-list"},Pe=r(()=>t("strong",null,"Urgency used: ",-1)),Me=r(()=>t("br",null,null,-1)),De={key:1,class:"procedural-list"},Re=r(()=>t("strong",null,"Extended sittings used: ",-1)),Ie=r(()=>t("br",null,null,-1)),Ae={key:5,class:"mt-3"},Ne={key:6},Ee={key:7},He={key:8},Oe=r(()=>t("hr",null,null,-1)),Ve={class:"row"},Ce={key:0,class:"col-12 col-xl-6"},Le={key:1,class:"col-12 col-xl-6"},Ue={class:"col-12 col-xl-6 text-xl-end"},We={key:0},ze={key:0},qe={class:"row"},Ge={class:"col-12 col-lg-4"},Fe=r(()=>t("h4",null,"Progress",-1)),je=r(()=>t("h3",null,"Votes",-1)),Xe={class:"row"},Je={class:"col-12 col-lg-4"},Ke=r(()=>t("h6",{class:"text-uppercase text-muted"},[t("strong",null,"1st reading")],-1)),Qe=r(()=>t("h6",{class:"text-muted"},"This vote has not yet occurred, or is not yet recorded on WhereTheyStand.",-1)),Ye={class:"col-12 col-lg-4"},Ze=r(()=>t("h6",{class:"text-uppercase text-muted"},[t("strong",null,"2nd reading")],-1)),$e=r(()=>t("h6",{class:"text-muted"},"This vote has not yet occurred, or is not yet recorded on WhereTheyStand.",-1)),et={class:"col-12 col-lg-4"},tt=r(()=>t("h6",{class:"text-uppercase text-muted"},[t("strong",null,"3rd reading")],-1)),st=r(()=>t("h6",{class:"text-muted"},"This vote has not yet occurred, or is not yet recorded on WhereTheyStand.",-1)),at=r(()=>t("p",{class:"text-muted"},"Only reading votes are shown here; these votes determine whether the Bill progresses through Parliament. Other votes, such as votes on whether to amend parts of the Bill, can be seen in Hansard.",-1)),lt={class:"text-muted"},nt=r(()=>t("br",null,null,-1));function it(a,b,_,g,y,e){const m=z,D=C,R=F,u=q,p=G,I=j,w=P,A=J,v=X,k=L,f=de;return e.bill?(s(),i("div",he,[l(D,null,{default:d(()=>[l(m,{name:"twitter:title",content:e.bill.name+" - WhereTheyStand"},null,8,["content"]),l(m,{name:"twitter:description",content:e.bill.description},null,8,["content"]),l(m,{name:"description",content:e.bill.description},null,8,["content"]),l(m,{property:"og:title",content:e.bill.name+" - WhereTheyStand"},null,8,["content"]),l(m,{property:"og:description",content:e.bill.description},null,8,["content"])]),_:1}),l(R,{pageTitle:e.bill.name,pageSubtitle:e.bill.type_desc},null,8,["pageTitle","pageSubtitle"]),t("div",ue,[t("div",me,[t("div",be,[ge,l(w,null,{default:d(()=>[n(h(e.bill.description)+" ",1),e.bill.voting_method!="unk"?(s(),i("h5",pe,"Voting method")):o("",!0),e.bill.voting_method=="per"?(s(),i("span",fe,[l(u,{icon:["fas","person"]}),n(),ye,n(" MPs voted individually on this bill. ")])):o("",!0),e.bill.voting_method=="par"?(s(),i("span",we,[l(u,{icon:["fas","people-group"]}),n(),ve,n(" Parties decided whether or not to support this bill and cast votes on behalf of all their MPs. ")])):o("",!0),e.bill.voting_method=="mix"?(s(),i("span",ke,[l(u,{icon:["fas","people-group"]}),n(" / "),l(u,{icon:["fas","person"]}),n(),xe,n(" Both personal and party voting were used at different stages of this bill's progression. ")])):o("",!0),e.bill.urgency_used||e.bill.extended_sittings_used?(s(),i("h5",Te,"Procedural notes")):o("",!0),t("ul",Be,[e.bill.urgency_used?(s(),i("li",Se,[l(u,{class:"me-2",icon:["fas","forward-fast"]}),Pe,n(" This bill was progressed through one or more stages using urgency. Urgency allows the Government to fast-track the legislative process by extending the sitting hours of the House of Representatives and skipping the select committee stage of a bill, and allows bills to pass through more than one stage per sitting day. "),Me,t("small",null,[l(p,{link:"https://www.parliament.nz/en/visit-and-learn/how-parliament-works/fact-sheets/what-is-urgency/"},{default:d(()=>[n(" Learn more about urgency")]),_:1})])])):o("",!0),e.bill.extended_sittings_used?(s(),i("li",De,[l(u,{class:"me-2",icon:["fa","calendar"]}),Re,n(" This bill was progressed during one or more extended sittings of the House of Representatives. This enables MPs to meet for longer than normal to consider legislation. It does not alter the stages that a bill must pass through to become law. "),Ie,t("small",null,[l(p,{link:"https://www.parliament.nz/en/visit-and-learn/how-parliament-works/fact-sheets/a-closer-look-at-extended-hours/"},{default:d(()=>[n(" Learn more about extended sittings")]),_:1})])])):o("",!0)]),e.bill.pco_url||e.actUrl?(s(),i("h5",Ae,"Read the bill")):o("",!0),e.bill.pco_url?(s(),i("span",Ne,[l(u,{class:"me-2",icon:["fas","file-lines"]}),n("Bill text: "),l(p,{link:e.bill.pco_url},{default:d(()=>[n(h(e.bill.name)+" (legislation.govt.nz)",1)]),_:1},8,["link"])])):o("",!0),e.bill.pco_url&&e.actUrl?(s(),i("br",Ee)):o("",!0),e.actUrl?(s(),i("span",He,[l(u,{class:"me-2",icon:["fas","book"]}),n("Act text: "),l(p,{link:e.actUrl},{default:d(()=>[n(h(e.bill.enactment.act)+" (legislation.govt.nz)",1)]),_:1},8,["link"])])):o("",!0),Oe,t("div",Ve,[e.bill.parliament_api_id?(s(),i("div",Le,[l(p,{link:"https://bills.parliament.nz/v/6/"+e.bill.parliament_api_id},{default:d(()=>[n(" View on Parliament website")]),_:1},8,["link"])])):(s(),i("div",Ce,[l(p,{link:"https://www.parliament.nz/en/pb/bills-and-laws/bills-proposed-laws/document/"+e.bill.legacy_document_id},{default:d(()=>[n(" View on Parliament website (legacy)")]),_:1},8,["link"])])),t("div",Ue,[l(I,{class:"ms-xl-2 me-xl-0",resourceType:"bill",fileType:"json",friendlyName:e.bill.name,resourceId:e.bill.id},null,8,["friendlyName","resourceId"])])])]),_:1}),e.bill.people_responsible.length>0?(s(),i("h4",We,[n("Member"),e.bill.people_responsible.length>1?(s(),i("span",ze,"s")):o("",!0),n(" responsible")])):o("",!0),t("div",qe,[(s(!0),i(O,null,V(e.bill.people_responsible,T=>(s(),i("div",{class:"col-12 col-lg-6",key:T.id},[l(A,{person:T},null,8,["person"])]))),128))])]),t("div",Ge,[Fe,l(w,{gradient:!0},{default:d(()=>[t("h3",null,h(e.bill.progress_desc),1),t("p",null,h(e.progressExplanation),1)]),_:1})])]),je,t("div",Xe,[t("div",Je,[e.firstReading?(s(),c(k,{key:0,class:"vote-link",to:"/votes/"+e.firstReading.id},{default:d(()=>[l(v,{vote:e.firstReading},null,8,["vote"])]),_:1},8,["to"])):e.bill.dates.first_reading_date?(s(),c(f,{key:1,reading:1,passed:!0,date:e.bill.dates.first_reading_date},null,8,["date"])):e.bill.dates.defeated_date&&e.bill.defeated_at_reading===1?(s(),c(f,{key:2,passed:!1,reading:1,date:e.bill.dates.defeated_date},null,8,["date"])):!e.bill.defeated_at_reading||e.bill.defeated_at_reading>=1?(s(),c(w,{key:3,missing:!0},{default:d(()=>[Ke,Qe]),_:1})):o("",!0)]),t("div",Ye,[e.secondReading?(s(),c(k,{key:0,class:"vote-link",to:"/votes/"+e.secondReading.id},{default:d(()=>[l(v,{vote:e.secondReading},null,8,["vote"])]),_:1},8,["to"])):e.bill.dates.second_reading_date?(s(),c(f,{key:1,reading:2,passed:!0,date:e.bill.dates.second_reading_date},null,8,["date"])):e.bill.dates.defeated_date&&e.bill.defeated_at_reading===2?(s(),c(f,{key:2,passed:!1,reading:2,date:e.bill.dates.defeated_date},null,8,["date"])):!e.bill.defeated_at_reading||e.bill.defeated_at_reading>=2?(s(),c(w,{key:3,missing:!0},{default:d(()=>[Ze,$e]),_:1})):o("",!0)]),t("div",et,[e.thirdReading?(s(),c(k,{key:0,class:"vote-link",to:"/votes/"+e.thirdReading.id},{default:d(()=>[l(v,{vote:e.thirdReading},null,8,["vote"])]),_:1},8,["to"])):e.bill.dates.third_reading_date?(s(),c(f,{key:1,reading:3,passed:!0,date:e.bill.dates.third_reading_date},null,8,["date"])):e.bill.dates.defeated_date&&e.bill.defeated_at_reading===3?(s(),c(f,{key:2,passed:!1,reading:3,date:e.bill.dates.defeated_date},null,8,["date"])):!e.bill.defeated_at_reading||e.bill.defeated_at_reading>=3?(s(),c(w,{key:3,missing:!0},{default:d(()=>[tt,st]),_:1})):o("",!0)])]),at,t("p",lt,[n("Bill details last synced with the Parliament website "+h(e.relativeDate)+". ",1),nt,t("small",null,"("+h(e.formatDateTime(e.bill.last_retrieved))+")",1)])])])):o("",!0)}const bt=S(_e,[["render",it],["__scopeId","data-v-92a9dc2c"]]);export{bt as default};
