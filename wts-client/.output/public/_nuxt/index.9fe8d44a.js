import{a as R,b as a,e as _,w as h,f as t,l as c,c as w,B as D,D as P,H,h as E,o,i as n,t as l,F as I,r as B,s as N,v as C,M as V,q as W}from"./entry.189422d5.js";import{_ as L}from"./PageHeader.6b83f615.js";import{_ as F}from"./PersonCard.83ed93be.js";import{_ as b}from"./ColourDot.fbe5918e.js";import{u as q}from"./electorates.204f8e15.js";import{f as G,p as U}from"./index.145ce648.js";const j={name:"Electorate",setup(){return{electoratesStore:q()}},data(){return{showReasons:!1}},created(){this.electoratesStore.fetch(this.$route.params.id),this.electoratesStore.fetchHistory(this.$route.params.id),this.electoratesStore.fetchShape(this.$route.params.id)},computed:{electorate(){return this.electoratesStore.byIdentifier(this.$route.params.id)},affiliations(){return this.electoratesStore.historyByIdentifier(this.$route.params.id)},shape(){return null},paths(){if(!this.shape||this.shape["wts-comment"]=="noshape")return[];var r=this.shape.features[0];if(r.geometry.type=="Polygon")return this.shape.features[0].geometry.coordinates;if(r.geometry.type=="MultiPolygon"){var d=[];return this.shape.features[0].geometry.coordinates.forEach(m=>{d.push(m[0])}),d}},limits(){if(!(!this.shape||this.shape["wts-comment"]=="noshape")){var r=-180,d=0,m=0,g=360;return this.paths.forEach(y=>{y.forEach(e=>{var i=e[0],f=e[1];i<0&&(i=i+360),i>m&&(m=i),i<g&&(g=i),f>r&&(r=f),f<d&&(d=f)})}),m>180&&(m=m-360),{north:r,south:d,east:m,west:g}}},center(){if(this.limits){var r=this.limits.east;r<0&&(r=r+360);var d=(r+this.limits.west)/2;return d>180&&(d=d-360),[d,(this.limits.north+this.limits.south)/2]}else return[0,0]},centerGoogle(){return{lat:this.center[0],lng:this.center[1]}}},methods:{formatDate(r){return G(U(r,"yyyy-MM-dd",new Date),"d MMMM yyyy")}},watch:{$route(r,d){r.fullPath.startsWith("/electorates/")&&(this.electoratesStore.fetch(r.params.id),this.electoratesStore.fetchHistory(r.params.id),this.electoratesStore.fetchShape(r.params.id))}},mounted(){}},u=r=>(N("data-v-d4b8fde5"),r=r(),C(),r),z={key:0,id:"electorate-view"},A=u(()=>t("div",{class:"container-fluid hero pt-0"},null,-1)),J={class:"mt-3 container"},K={key:0},O={class:"row"},Q={class:"col-12 col-xl-4"},X=u(()=>t("h4",null,"Incumbent Member of Parliament",-1)),Y={key:1},Z={class:"row"},$={class:"col-12"},ee={key:0},te={key:0},se={key:0},oe={key:0},re={class:"row"},ae={class:"col-12"},ce=u(()=>t("h4",null,"Previous MPs",-1)),ne={class:"form-check"},le=u(()=>t("label",{class:"form-check-label",for:"showReasons"}," Show reasons for commencement and conclusion of terms ",-1)),de={class:"col-12"},_e={key:0},ie={key:0,class:"d-flex align-items-center"},he={class:"flex-shrink-0"},ue=["src","alt"],me={class:"flex-grow-1 ms-3"},pe={class:"text-muted"},ye={key:1},fe={class:"text-muted person-description"},ve={class:"row"},ge=u(()=>t("div",{class:"col-1"},null,-1)),ke={class:"col-11"},we={class:"row"},be={class:"col-12 col-md-6"},Se=u(()=>t("h6",{class:"affiliation-date-heading"},"Started:",-1)),xe={key:0,class:"affiliation-date-heading"},Me={key:1},Te={key:0,class:"col-12 col-md-6"},Re=u(()=>t("h6",{class:"affiliation-date-heading"},"Ended:",-1)),De={key:0,class:"affiliation-date-heading"},Pe={key:1},He={key:0},Ee={key:1},Ie=u(()=>t("hr",null,null,-1)),Be=u(()=>t("p",{class:"text-muted"},"These dates correspond to when an MP was eligible to sit and vote in the House of Representatives, not when they were declared elected. This list only includes MPs with profiles on WhereTheyStand, so it may contain some gaps.",-1)),Ne={key:2},Ce={class:"row"},Ve={class:"col-12"},We=u(()=>t("h4",null,"History",-1));function Le(r,d,m,g,y,e){const i=V,f=H,S=L,x=F,v=W,k=E,M=b,T=b;return e.electorate?(o(),a("div",z,[_(f,null,{default:h(()=>[_(i,{name:"twitter:title",content:e.electorate.name+" - WhereTheyStand"},null,8,["content"]),_(i,{name:"twitter:description",content:e.electorate.description},null,8,["content"]),_(i,{name:"description",content:e.electorate.description},null,8,["content"]),_(i,{property:"og:title",content:e.electorate.name+" - WhereTheyStand"},null,8,["content"]),_(i,{property:"og:description",content:e.electorate.description},null,8,["content"])]),_:1}),_(S,{pageTitle:e.electorate.name,pageSubtitle:e.electorate.description},null,8,["pageTitle","pageSubtitle"]),A,t("div",J,[(e.electorate.status==="current"||e.electorate.status==="retiring")&&e.electorate.incumbent?(o(),a("div",K,[t("div",O,[t("div",Q,[X,_(x,{person:e.electorate.incumbent},null,8,["person"])])])])):c("",!0),e.electorate.status!=="current"?(o(),a("div",Y,[t("div",Z,[t("div",$,[e.electorate.status==="retiring"?(o(),w(k,{key:0},{default:h(()=>[t("h5",null,[n("This electorate is retiring"),e.electorate.valid_to?(o(),a("span",ee," on "+l(e.formatDate(e.electorate.valid_to)),1)):c("",!0),n(".")]),e.electorate.replaced_by?(o(),a("p",te,[n("The electorate of "+l(e.electorate.name)+" will be replaced by ",1),_(v,{to:"/electorates/"+e.electorate.replaced_by.slug},{default:h(()=>[n(l(e.electorate.replaced_by.name),1)]),_:1},8,["to"]),n(".")])):c("",!0)]),_:1})):c("",!0),e.electorate.status==="former"?(o(),w(k,{key:1},{default:h(()=>[t("h5",null,[n("This electorate retired"),e.electorate.valid_to?(o(),a("span",se," on "+l(e.formatDate(e.electorate.valid_to)),1)):c("",!0),n(".")]),e.electorate.replaced_by?(o(),a("p",oe,[n("The electorate of "+l(e.electorate.name)+" has been replaced by ",1),_(v,{to:"/electorates/"+e.electorate.replaced_by.slug},{default:h(()=>[n(l(e.electorate.replaced_by.name),1)]),_:1},8,["to"]),n(".")])):c("",!0)]),_:1})):c("",!0)])])])):c("",!0),t("div",re,[t("div",ae,[ce,t("div",ne,[D(t("input",{class:"form-check-input",type:"checkbox",value:"","onUpdate:modelValue":d[0]||(d[0]=s=>y.showReasons=s),id:"showReasons"},null,512),[[P,y.showReasons]]),le])]),t("div",de,[_(k,null,{default:h(()=>[(o(!0),a(I,null,B(e.affiliations,(s,p)=>(o(),a("div",{key:s.id},[_(v,{class:"NuxtLink",to:"/people/"+s.person.slug},{default:h(()=>[p==0||e.affiliations[p].person.id!=e.affiliations[p-1].person.id?(o(),a("div",_e,[s.person.image?(o(),a("div",ie,[t("div",he,[s.person.image?(o(),a("img",{key:0,src:s.person.image,class:"me-3 person-image",alt:s.person.display_name},null,8,ue)):c("",!0)]),t("div",me,[t("h5",null,[t("strong",null,l(s.person.display_name),1)]),t("p",pe,[s.person.colour?(o(),w(M,{key:0,colour:s.person.colour},null,8,["colour"])):c("",!0),n(" Currently: "+l(s.person.description),1)])])])):(o(),a("div",ye,[t("h6",null,[t("strong",null,l(s.person.display_name),1)]),t("p",fe,[s.person.colour?(o(),w(T,{key:0,colour:s.person.colour},null,8,["colour"])):c("",!0),n(" Currently: "+l(s.person.description),1)])]))])):c("",!0),t("div",ve,[ge,t("div",ke,[t("div",we,[t("div",be,[Se,n(" "+l(e.formatDate(s.start_date))+" ",1),y.showReasons&&s.start_reason_desc?(o(),a("h6",xe,"Reason: ")):c("",!0),y.showReasons&&s.start_reason_desc?(o(),a("span",Me,l(s.start_reason_desc),1)):c("",!0)]),s.end_date?(o(),a("div",Te,[Re,n(" "+l(e.formatDate(s.end_date))+" ",1),y.showReasons&&s.end_reason_desc?(o(),a("h6",De,"Reason: ")):c("",!0),y.showReasons&&s.end_reason_desc?(o(),a("span",Pe,l(s.end_reason_desc),1)):c("",!0)])):c("",!0)]),p<e.affiliations.length-1&&e.affiliations[p].person.id==e.affiliations[p+1].person.id?(o(),a("hr",He)):c("",!0)])]),p<e.affiliations.length-1&&e.affiliations[p].person.id!=e.affiliations[p+1].person.id?(o(),a("hr",Ee)):c("",!0)]),_:2},1032,["to"])]))),128)),Ie,Be]),_:1})])]),e.electorate.replaced_electorate?(o(),a("div",Ne,[t("div",Ce,[t("div",Ve,[We,_(k,null,{default:h(()=>[t("h5",null,[n("This electorate replaced the "),_(v,{to:"/electorates/"+e.electorate.replaced_electorate.slug},{default:h(()=>[n(l(e.electorate.replaced_electorate.name),1)]),_:1},8,["to"]),n(" electorate on "+l(e.formatDate(e.electorate.valid_from))+".",1)]),t("p",null,[n("See "),_(v,{to:"/electorates/"+e.electorate.replaced_electorate.slug},{default:h(()=>[n(l(e.electorate.replaced_electorate.name),1)]),_:1},8,["to"]),n(" for more former MPs.")])]),_:1})])])])):c("",!0)])])):c("",!0)}const Ae=R(j,[["render",Le],["__scopeId","data-v-d4b8fde5"]]);export{Ae as default};
