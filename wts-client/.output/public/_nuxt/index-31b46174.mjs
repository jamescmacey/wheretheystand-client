import{_ as O}from"./PageHeader-d882b9c8.mjs";import{_ as F}from"./Spinner-9086acdb.mjs";import{_ as L,B as C,C as M,D as R,E as S,r as P,o as r,c as l,l as g,w as k,h as c,a as f,b as e,G as _,I as A,J as h,K as b,L as I,e as y,t as n,F as J,i as j,M as x,p as D,g as T,m as E,q as G,d as q,j as H}from"./entry-4f6a8f6f.mjs";import{f as U}from"./index-73ae3c28.mjs";const z={name:"BillFilter",data(){return{page:1,perPage:10,hasLoadedData:!1,next:!1,bills:[],previous:!1,count:0,isLoading:!1,showDescriptions:!0,filterSettings:{titleContains:"",billTypes:{mem:!0,gov:!0,pri:!0,loc:!0},parliamentaryTerm:"",characteristics:{urgencyUsed:!1,extendedSittingsUsed:!1,submissionsOpen:!1,votingMethod:""},format:{perPage:10,orderBy:"date_modified_desc"}},activeFilter:{titleContains:"",billTypes:{mem:!0,gov:!0,pri:!0,loc:!0},parliamentaryTerm:"",characteristics:{urgencyUsed:!1,extendedSittingsUsed:!1,submissionsOpen:!1,votingMethod:""},format:{perPage:10,orderBy:"date_modified_desc"}}}},computed:{activeString(){return JSON.stringify(this.activeFilter)},userString(){return JSON.stringify(this.filterSettings)},displayBills(){return!this.hasLoadedData&&this.prefetchData?this.prefetchData.results:this.bills},displayCount(){return!this.hasLoadedData&&this.prefetchData?this.prefetchData.count:this.count},displayPage(){return!this.hasLoadedData&&this.prefetchData?this.prefetchData.page:this.page},displayNext(){return!this.hasLoadedData&&this.prefetchData?this.prefetchData.next:this.next},displayPrevious(){return!this.hasLoadedData&&this.prefetchData?this.prefetchData.previous:this.previous}},methods:{async getPage(p){this.isLoading=!0;var s=S+"bills/?",u=await $fetch(s+new URLSearchParams({page:p,per_page:this.activeFilter.format.perPage}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:p,filter:this.activeFilter})});this.isLoading=!1,this.hasLoadedData=!0,this.bills=u.results,this.count=u.count,u.previous?this.previous=!0:this.previous=!1,u.next?this.next=!0:this.next=!1,this.page=p},applyFilter(){this.activeString!=this.userString&&!this.isLoading&&(this.activeFilter=JSON.parse(JSON.stringify(this.filterSettings)),this.getPage(1))},relativeDate(p){return U(D(p,"yyyy-MM-dd",new Date))+" ago"},formattedDate(p){return T(D(p,"yyyy-MM-dd",new Date),"d.M.yyyy")}}},K=Object.assign(z,{async setup(p,{expose:s}){s();let u,d;const o=C().query;var i=1;o.hasOwnProperty("page")&&(i=o.page);const{data:m}=([u,d]=M(()=>R(S+"bills/?page="+i+"&per_page=10")),u=await u,d(),u),v={query:o,initialPage:i,prefetchData:m,API_BASE:S,parse:D,format:T,formatDistanceToNow:U,useRoute:C};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),a=p=>(E("data-v-45ff0dca"),p=p(),G(),p),W=a(()=>e("h4",null,"Filter bills",-1)),Q={class:"row mb-2"},X={class:"col-12"},Y=a(()=>e("h5",null,"Refine by title",-1)),Z=a(()=>e("label",{for:"text_filter"},"Title must contain the following:",-1)),$=a(()=>e("small",{class:"text-muted"},"For less strict textual search, you may wish to use the site-wide search function.",-1)),ee=a(()=>e("hr",null,null,-1)),te={class:"row"},se={class:"col-12 col-xl-3"},ie=a(()=>e("h5",null,"Bill types",-1)),ae={class:"form-check"},oe=a(()=>e("label",{class:"form-check-label",for:"check_goverment"}," Government bills ",-1)),re={class:"form-check"},le=a(()=>e("label",{class:"form-check-label",for:"check_members"}," Members' bills ",-1)),ne={class:"form-check"},ce=a(()=>e("label",{class:"form-check-label",for:"check_local"}," Local bills ",-1)),de={class:"form-check"},pe=a(()=>e("label",{class:"form-check-label",for:"check_private"}," Private bills ",-1)),_e=a(()=>e("small",null,[e("strong",null,"OR"),y(": Bills must be any of the selected type to be shown.")],-1)),ue={class:"col-12 col-xl-3"},he=a(()=>e("h5",null,"Temporal characteristics",-1)),ge=a(()=>e("label",{for:"parliament_select"},"Parliamentary term of introduction",-1)),me=a(()=>e("option",{value:"",selected:""},"Any",-1)),fe=a(()=>e("option",{value:"53"},"53rd Parliament",-1)),ye=a(()=>e("option",{value:"52"},"52nd Parliament",-1)),ve=a(()=>e("option",{value:"51"},"51st Parliament",-1)),ke=a(()=>e("option",{value:"50"},"50th Parliament",-1)),be=[me,fe,ye,ve,ke],xe={class:"col-12 col-xl-3"},Pe=a(()=>e("h5",null,"Procedural characteristics",-1)),Se={class:"form-check"},De=a(()=>e("label",{class:"form-check-label",for:"check_urgency"}," Urgency used ",-1)),we={class:"form-check"},Ce=a(()=>e("label",{class:"form-check-label",for:"check_extended"}," Extended sittings used ",-1)),Le={class:"form-check"},Te=a(()=>e("label",{class:"form-check-label",for:"check_submissions_open"}," Open for submissions ",-1)),Ue=a(()=>e("label",{for:"voting_method_select",class:"mt-2"},"Voting method",-1)),Be=a(()=>e("option",{value:"",selected:""},"Any",-1)),Ne=a(()=>e("option",{value:"per"},"Personal voting used",-1)),Ve=a(()=>e("option",{value:"par"},"Party voting used",-1)),Oe=[Be,Ne,Ve],Fe=a(()=>e("small",null,[e("strong",null,"AND"),y(": Bills must meet all of these criteria to be shown.")],-1)),Me=a(()=>e("hr",null,null,-1)),Re=a(()=>e("h5",null,"Display options",-1)),Ae={class:"row"},Ie={class:"col-12 col-xl-3"},Je=a(()=>e("label",{for:"per_page_select"},"Results per page",-1)),je=a(()=>e("option",{value:"10",selected:""},"10",-1)),Ee=a(()=>e("option",{value:"25"},"25",-1)),Ge=a(()=>e("option",{value:"50"},"50",-1)),qe=a(()=>e("option",{value:"100"},"100",-1)),He=[je,Ee,Ge,qe],ze={class:"form-check"},Ke=a(()=>e("label",{class:"form-check-label",for:"check_show_descriptions"}," Show bill descriptions ",-1)),We={class:"col-12 col-xl-3"},Qe=a(()=>e("label",{for:"order_by_select"},"Order by",-1)),Xe=a(()=>e("option",{value:"date_modified_desc",selected:""},"Date modified (newest first)",-1)),Ye=a(()=>e("option",{value:"date_modified_asc"},"Date modified (oldest first)",-1)),Ze=a(()=>e("option",{value:"introduction_date_desc"},"Introduction date (newest first)",-1)),$e=a(()=>e("option",{value:"introduction_date_asc"},"Introduction date (oldest first)",-1)),et=a(()=>e("option",{value:"progress_desc"},"Status (later stages first)",-1)),tt=a(()=>e("option",{value:"progress_asc"},"Status (early stages first)",-1)),st=[Xe,Ye,Ze,$e,et,tt],it=a(()=>e("hr",null,null,-1)),at={class:"row"},ot={class:"col-12"},rt={key:1,disabled:"",class:"btn btn-primary",type:"button",id:"button-addon2"},lt=a(()=>e("span",{id:"results-marker"},null,-1)),nt={key:1},ct=a(()=>e("h4",null,"Results",-1)),dt={key:0},pt=y(". "),_t={class:"mb-0"},ut={class:"me-1"},ht={key:0,class:"badge bg-primary text-uppercase"},gt={key:1,class:"badge bg-success text-uppercase"},mt={key:2,class:"badge bg-success text-uppercase"},ft={key:3,class:"badge bg-warning text-dark text-uppercase"},yt={key:4,class:"badge bg-danger text-uppercase"},vt={key:5,class:"badge bg-danger text-uppercase"},kt={key:6,class:"badge bg-danger text-uppercase"},bt={key:7,class:"badge bg-info text-uppercase"},xt={key:8,class:"badge bg-warning text-dark text-uppercase"},Pt={key:9,class:"badge bg-secondary text-uppercase"},St={class:"text-muted text-uppercase"},Dt={key:0},wt={key:1,class:"text-muted"},Ct={key:2},Lt=["title"],Tt={key:1,"aria-label":"bills_pagination"},Ut={class:"pagination mb-1"},Bt={key:0,class:"page-item"},Nt={class:"page-item active","aria-current":"page"},Vt={key:1,class:"page-item"},Ot=a(()=>e("small",null,"Back to start",-1)),Ft=[Ot],Mt={key:2,"aria-label":"bills_pagination"},Rt={class:"pagination mb-1"},At={key:0,class:"page-item"},It={class:"page-item active","aria-current":"page"},Jt={key:1,class:"page-item"},jt=a(()=>e("small",null,"Back to start",-1)),Et=[jt];function Gt(p,s,u,d,o,i){const m=P("Link"),v=P("Head"),B=F,w=q,N=P("font-awesome-icon"),V=H;return r(),l("div",null,[W,d.prefetchData&&d.prefetchData.count&&d.prefetchData.count>0?(r(),g(v,{key:0},{default:k(()=>[d.prefetchData.previous&&d.prefetchData.page==2?(r(),g(m,{key:0,rel:"prev",href:"/bills"})):c("",!0),d.prefetchData.previous&&d.prefetchData.page!=2?(r(),g(m,{key:1,rel:"prev",href:"/bills?page="+(d.prefetchData.page-1)},null,8,["href"])):c("",!0),d.prefetchData.next?(r(),g(m,{key:2,rel:"next",href:"/bills?page="+(d.prefetchData.page+1)},null,8,["href"])):c("",!0)]),_:1})):c("",!0),f(w,null,{default:k(()=>[e("form",{onSubmit:s[14]||(s[14]=I(t=>i.applyFilter(),["prevent"]))},[e("div",Q,[e("div",X,[Y,Z,_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.filterSettings.titleContains=t),class:"form-control",type:"input",id:"text_filter"},null,512),[[A,o.filterSettings.titleContains]]),$])]),ee,e("div",te,[e("div",se,[ie,e("div",ae,[_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.filterSettings.billTypes.gov=t),class:"form-check-input",type:"checkbox",value:"",id:"check_goverment"},null,512),[[h,o.filterSettings.billTypes.gov]]),oe]),e("div",re,[_(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.filterSettings.billTypes.mem=t),class:"form-check-input",type:"checkbox",value:"",id:"check_members"},null,512),[[h,o.filterSettings.billTypes.mem]]),le]),e("div",ne,[_(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.filterSettings.billTypes.loc=t),class:"form-check-input",type:"checkbox",value:"",id:"check_local"},null,512),[[h,o.filterSettings.billTypes.loc]]),ce]),e("div",de,[_(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.filterSettings.billTypes.pri=t),class:"form-check-input",type:"checkbox",value:"",id:"check_private"},null,512),[[h,o.filterSettings.billTypes.pri]]),pe]),_e]),e("div",ue,[he,ge,_(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>o.filterSettings.parliamentaryTerm=t),class:"form-select",id:"parliament_select","aria-label":"-"},be,512),[[b,o.filterSettings.parliamentaryTerm]])]),e("div",xe,[Pe,e("div",Se,[_(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>o.filterSettings.characteristics.urgencyUsed=t),class:"form-check-input",type:"checkbox",value:"",id:"check_urgency"},null,512),[[h,o.filterSettings.characteristics.urgencyUsed]]),De]),e("div",we,[_(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>o.filterSettings.characteristics.extendedSittingsUsed=t),class:"form-check-input",type:"checkbox",value:"",id:"check_extended"},null,512),[[h,o.filterSettings.characteristics.extendedSittingsUsed]]),Ce]),e("div",Le,[_(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>o.filterSettings.characteristics.submissionsOpen=t),class:"form-check-input",type:"checkbox",value:"",id:"check_submissions_open"},null,512),[[h,o.filterSettings.characteristics.submissionsOpen]]),Te]),Ue,_(e("select",{"onUpdate:modelValue":s[9]||(s[9]=t=>o.filterSettings.characteristics.votingMethod=t),class:"form-select",id:"voting_method_select","aria-label":"Voting method"},Oe,512),[[b,o.filterSettings.characteristics.votingMethod]]),Fe])]),Me,Re,e("div",Ae,[e("div",Ie,[Je,_(e("select",{"onUpdate:modelValue":s[10]||(s[10]=t=>o.filterSettings.format.perPage=t),class:"form-select",id:"per_page_select","aria-label":"Results per page"},He,512),[[b,o.filterSettings.format.perPage]]),e("div",ze,[_(e("input",{"onUpdate:modelValue":s[11]||(s[11]=t=>o.showDescriptions=t),class:"form-check-input",type:"checkbox",value:"",id:"check_show_descriptions"},null,512),[[h,o.showDescriptions]]),Ke])]),e("div",We,[Qe,_(e("select",{"onUpdate:modelValue":s[12]||(s[12]=t=>o.filterSettings.format.orderBy=t),class:"form-select",id:"order_by_select","aria-label":"Order by"},st,512),[[b,o.filterSettings.format.orderBy]])])]),it,e("div",at,[e("div",ot,[i.activeString!=i.userString&&!o.isLoading?(r(),l("button",{key:0,onClick:s[13]||(s[13]=t=>i.applyFilter()),class:"btn btn-primary",type:"button",id:"button-addon2"},"Refine selection")):(r(),l("button",rt,"Refine selection")),o.isLoading?(r(),g(B,{key:2,class:"ms-2"})):c("",!0)])])],32)]),_:1}),lt,o.page?(r(),l("div",nt,[ct,y(" "+n(i.displayCount)+" result",1),i.displayCount!=1?(r(),l("span",dt,"s")):c("",!0),pt,(r(!0),l(J,null,j(i.displayBills,t=>(r(),g(V,{title:t.name,key:t.id,to:"/bills/"+t.id,class:"bill-link"},{default:k(()=>[f(w,null,{default:k(()=>[e("h6",_t,n(t.name),1),e("small",ut,[t.progress=="inp"?(r(),l("span",ht,n(t.progress_desc),1)):t.progress=="pas"?(r(),l("span",gt,n(t.progress_desc),1)):t.progress=="ena"?(r(),l("span",mt,n(t.progress_desc),1)):t.progress=="dis"?(r(),l("span",ft,n(t.progress_desc),1)):t.progress=="def"?(r(),l("span",yt,n(t.progress_desc),1)):t.progress=="lap"?(r(),l("span",vt,n(t.progress_desc),1)):t.progress=="unx"?(r(),l("span",kt,n(t.progress_desc),1)):t.progress=="div"?(r(),l("span",bt,n(t.progress_desc),1)):t.progress=="wit"?(r(),l("span",xt,n(t.progress_desc),1)):(r(),l("span",Pt,n(t.progress_desc),1))]),e("small",St,n(t.type_desc),1),t.description&&o.showDescriptions?(r(),l("p",Dt,n(t.description),1)):o.showDescriptions?(r(),l("p",wt," No description. ")):c("",!0),o.showDescriptions?c("",!0):(r(),l("br",Ct)),e("small",null,[t.date_modified?(r(),l("span",{key:0,title:i.formattedDate(t.date_modified),class:"text-muted"},[f(N,{icon:["fas","history"]}),y(" Last activity "+n(i.relativeDate(t.date_modified)),1)],8,Lt)):c("",!0)])]),_:2},1024)]),_:2},1032,["title","to"]))),128)),!o.isLoading&&!o.hasLoadedData&&d.prefetchData&&i.displayCount>1?(r(),l("nav",Tt,[e("ul",Ut,[e("li",{class:x(["page-item",{disabled:!i.displayPrevious}])},[e("a",{class:"page-link",href:"#results-marker",onClick:s[15]||(s[15]=t=>i.getPage(i.displayPage-1))},"Previous")],2),i.displayPrevious?(r(),l("li",Bt,[e("a",{class:"page-link",href:"#results-marker",onClick:s[16]||(s[16]=t=>i.getPage(i.displayPage-1))},n(i.displayPage-1),1)])):c("",!0),e("li",Nt,[e("a",{class:"page-link",href:"#results-marker",onClick:s[17]||(s[17]=t=>i.getPage(i.displayPage))},n(i.displayPage),1)]),i.displayNext?(r(),l("li",Vt,[e("a",{class:"page-link",href:"#results-marker",onClick:s[18]||(s[18]=t=>i.getPage(i.displayPage+1))},n(i.displayPage+1),1)])):c("",!0),e("li",{class:x(["page-item",{disabled:!i.displayNext}])},[e("a",{class:"page-link",href:"#results-marker",onClick:s[19]||(s[19]=t=>i.getPage(i.displayPage+1))},"Next")],2)]),i.displayPage!=1?(r(),l("a",{key:0,onClick:s[20]||(s[20]=t=>i.getPage(1)),id:"back-to-start",href:"#results-marker"},Ft)):c("",!0)])):c("",!0),!o.isLoading&&o.hasLoadedData&&i.displayCount>1?(r(),l("nav",Mt,[e("ul",Rt,[e("li",{class:x(["page-item",{disabled:!i.displayPrevious}])},[e("a",{class:"page-link",href:"#results-marker",onClick:s[21]||(s[21]=t=>i.getPage(i.displayPage-1))},"Previous")],2),i.displayPrevious?(r(),l("li",At,[e("a",{class:"page-link",href:"#results-marker",onClick:s[22]||(s[22]=t=>i.getPage(i.displayPage-1))},n(i.displayPage-1),1)])):c("",!0),e("li",It,[e("a",{class:"page-link",href:"#results-marker",onClick:s[23]||(s[23]=t=>i.getPage(i.displayPage))},n(i.displayPage),1)]),i.displayNext?(r(),l("li",Jt,[e("a",{class:"page-link",href:"#results-marker",onClick:s[24]||(s[24]=t=>i.getPage(i.displayPage+1))},n(i.displayPage+1),1)])):c("",!0),e("li",{class:x(["page-item",{disabled:!i.displayNext}])},[e("a",{class:"page-link",href:"#results-marker",onClick:s[25]||(s[25]=t=>i.getPage(i.displayPage+1))},"Next")],2)]),i.displayPage!=1?(r(),l("a",{key:0,onClick:s[26]||(s[26]=t=>i.getPage(1)),id:"back-to-start",href:"#results-marker"},Et)):c("",!0)])):c("",!0)])):c("",!0)])}var qt=L(K,[["render",Gt],["__scopeId","data-v-45ff0dca"]]);const Ht={},zt={class:"container"},Kt={class:"row mt-3"},Wt=e("div",{class:"col-12"},[e("h4",null,"Bills are proposed changes to the law, and must each pass through several stages in Parliament before becoming law."),e("p",null,"Before any bill becomes law, there are three main votes it must pass: these are the first, second and third readings. For most bills, there is a chance for members of the public to make submissions at the select committee stage, which happens between the first and second readings."),e("p",null,"After a bill passes its third reading vote, it is granted Royal Assent by the Governor-General and becomes law, subject to any commencement provisions contained within the bill."),e("p",null,"WhereTheyStand contains all bills from the 51st Parliament and later (2014\u2014present). These are imported from Parliament's own website on a regular basis and are automatically linked with voting records and MPs' profiles to make it easier for you to find what you are looking for.")],-1),Qt={class:"col-12"};function Xt(p,s){const u=O,d=qt;return r(),l("div",null,[f(u,{pageTitle:"Bills"}),e("div",zt,[e("div",Kt,[Wt,e("div",Qt,[f(d)])])])])}var ts=L(Ht,[["render",Xt]]);export{ts as default};
